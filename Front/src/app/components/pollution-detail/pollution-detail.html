@if (pollution) {
  <div class="container">

    @if (!pollutionToEdit) {
      <div class="card">
        <div class="card-header">
          <h2>Détails de la pollution</h2>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <h3>{{ pollution.titre }}</h3>
              <p><strong>Type:</strong> {{ pollution.type_pollution }}</p>
              <p><strong>Lieu:</strong> {{ pollution.lieu }}</p>
              <p><strong>Date d'observation:</strong> {{ pollution.date_observation | date:'fullDate' }}</p>
              <p><strong>Coordonnées:</strong> {{ pollution.latitude }}, {{ pollution.longitude }}</p>
            </div>
            <div class="col-md-6">
              <h4>Description</h4>
              <p>{{ pollution.description }}</p>
              
              @if (pollution.photo_url) {
                <div class="mt-3">
                  <h4>Photo</h4>
                  <img [src]="pollution.photo_url" [alt]="pollution.titre" class="img-fluid">
                </div>
              }
            </div>
          </div>
        </div>
        <div class="card-footer">
          <button class="btn btn-primary me-2" (click)="editPollution()">
            Modifier
          </button>
          <button class="btn btn-danger me-2" (click)="deletePollution()">
            Supprimer
          </button>

          <button class="btn btn-secondary" routerLink="/pollutions/liste">
            Retour à la liste
          </button>
        </div>
      </div>
    }

    @if (pollutionToEdit) {
      <div class="card mb-4">
        <div class="card-header bg-warning text-white">
            Modification de la pollution
        </div>
        <div class="card-body">
            <app-pollution-from 
                [pollutionAEditer]="pollutionToEdit"
                (pollutionDeclaree)="handlePollutionUpdated($event)"
                (annulerModification)="cancelEdit()"
            ></app-pollution-from>
        </div>
      </div>
    }

  </div> } @else {
  <div class="container">
    <div class="alert alert-warning">Pollution non trouvée</div>
  </div>
}