@if (pollution) {
  <div class="container my-5 d-flex flex-column align-items-center">

    @if (!pollutionToEdit) {
      <div class="card shadow-lg rounded-4 mb-4 w-100" style="max-width: 800px; border: 2px solid #198754;">
        
        <div class="card-header bg-success text-white rounded-top-4">
          <h2 class="m-0 text-center">Détails de la pollution</h2>
        </div>
        
        <div class="card-body">
          <div class="row">
            
            <div class="col-md-6 mb-3">
              <h3 class="text-success">{{ pollution.titre }}</h3>
              <p><strong>Type:</strong> {{ pollution.type_pollution }}</p>
              <p><strong>Lieu:</strong> {{ pollution.lieu }}</p>
              <p><strong>Date d'observation:</strong> {{ pollution.date_observation | date:'fullDate' }}</p>
              <p><strong>Coordonnées:</strong> {{ pollution.latitude }}, {{ pollution.longitude }}</p>
            </div>
            
            <div class="col-md-6">
              <h4>Description</h4>
              <p>{{ pollution.description }}</p>
              
              @if (pollution.photo_url) {
                <div class="mt-3 text-center">
                  <h4>Photo</h4>
                  <img [src]="pollution.photo_url" [alt]="pollution.titre" class="img-fluid rounded shadow-sm">
                </div>
              }
            </div>

          </div>
        </div>

        <div class="card-footer d-flex justify-content-center gap-3 flex-wrap">
          <button class="btn btn-success btn-lg rounded-pill" (click)="editPollution()">Modifier</button>
          <button class="btn btn-danger btn-lg rounded-pill" (click)="deletePollution()">Supprimer</button>
          <button class="btn btn-secondary btn-lg rounded-pill" routerLink="/pollutions/liste">Retour à la liste</button>
        </div>

      </div>
    }

    @if (pollutionToEdit) {
      <div class="card shadow-lg rounded-4 mb-4 w-100" style="max-width: 800px; border: 2px solid #ffc107;">
        <div class="card-header bg-warning text-white rounded-top-4">
          <h2 class="m-0 text-center">Modification de la pollution</h2>
        </div>
        <div class="card-body">
          <app-pollution-from 
            [pollutionAEditer]="pollutionToEdit"
            (pollutionDeclaree)="handlePollutionUpdated($event)"
            (annulerModification)="cancelEdit()"
          ></app-pollution-from>
        </div>
      </div>
    }

  </div>
} @else {
  <div class="container my-5 text-center">
    <div class="alert alert-warning">Pollution non trouvée</div>
  </div>
}
